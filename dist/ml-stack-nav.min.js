/*!
 * ml-stack-nav - v1.1.2
 * Customizable, accessible, easy-to-use multi-level stack navigation menu with slide effect.
 * https://github.com/damianwajer/ml-stack-nav
 * 
 * Author: Damian Wajer
 * License: MIT
 * 
 * @preserve
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(s,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(s)),t(e),e}:t(jQuery)}(function(t){"use strict";var s="mlStackNav",e=s,n={navToggleSelector:".ml-stack-nav-toggle",openClass:"is-open",activeClass:"is-active",zIndexValue:900};function i(e,i){var a=t(e);this.config=t.extend({},n,i),this.el={$nav:a,$toggleButton:t(a.attr("data-nav-toggle")||this.config.navToggleSelector),$menuFirstLevel:a.find(".ml-stack-nav__menu").eq(0),$buttonNext:a.find(".js-ml-stack-nav-next"),$buttonBack:a.find(".js-ml-stack-nav-back")},this._defaults=n,this._name=s,this._init()}t.extend(i.prototype,{_init:function(){this._initAttributes(),this._attachEvents()},_initAttributes:function(){this.el.$nav.hasClass("ml-stack-nav")||this.el.$nav.addClass("ml-stack-nav")},_attachEvents:function(){var s=this;s.el.$toggleButton.on("click",function(t){s.toggle(),t.preventDefault()}),s.el.$buttonBack.on("click",function(t){s.moveBack(),t.preventDefault()}),s.el.$buttonNext.on("click",function(e){s._moveNext(t(this).closest(".ml-stack-nav__item").find(".ml-stack-nav__menu").eq(0)),e.preventDefault()}),s.el.$menuFirstLevel.on("webkitTransitionEnd msTransitionEnd oTransitionEnd transitionend",function(t){s.isOpen()||s.el.$nav.css("z-index","-1")})},isOpen:function(){return!!this.el.$nav.hasClass(this.config.openClass)},toggle:function(){this.isOpen()?this.close():this.open()},open:function(){this.el.$nav.trigger(t.Event("show.ml-stack-nav",{relatedTarget:this.el.$toggleButton[0]})),this.el.$toggleButton.addClass(this.config.activeClass),this.el.$nav.attr("aria-expanded","true").addClass(this.config.openClass+" "+this.config.activeClass).css("z-index",this.config.zIndexValue)},_moveNext:function(t){t.closest("."+this.config.activeClass).removeClass(this.config.activeClass),t.closest(".ml-stack-nav__item").addClass(this.config.openClass+" "+this.config.activeClass)},moveBack:function(){this.el.$nav.hasClass(this.config.activeClass)?this.close():this.el.$nav.find("."+this.config.activeClass).removeClass(this.config.activeClass).removeClass(this.config.openClass).closest("."+this.config.openClass).addClass(this.config.activeClass).find("."+this.config.openClass).removeClass(this.config.openClass)},close:function(){this.el.$nav.trigger(t.Event("hide.ml-stack-nav",{relatedTarget:this.el.$toggleButton[0]})),this.el.$toggleButton.removeClass(this.config.activeClass),this.el.$nav.removeClass(this.config.openClass+" "+this.config.activeClass).attr("aria-expanded","false").find("."+this.config.openClass).removeClass(this.config.openClass),this.el.$nav.find("."+this.config.activeClass).removeClass(this.config.activeClass)}}),t.fn[s]=function(s){return this.each(function(){t.data(this,e)?"string"==typeof s&&"_"!==s.charAt(0)&&t.isFunction(i.prototype[s])&&t.data(this,e)[s]():t.data(this,e,new i(this,s))})}});
//# sourceMappingURL=ml-stack-nav.min.js.map