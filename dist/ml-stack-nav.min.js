/*!
 * ml-stack-nav - v1.1.3
 * Customizable, responsive, accessible, easy-to-use multi-level stack navigation menu with slide effect.
 * https://github.com/damianwajer/ml-stack-nav
 * 
 * Author: Damian Wajer
 * License: MIT
 * 
 * @preserve
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,s){return void 0===s&&(s="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(s),s}:e(jQuery)}(function(n){"use strict";var i="mlStackNav",s=i,a={navToggleSelector:".ml-stack-nav-toggle",openClass:"is-open",activeClass:"is-active",zIndexValue:900};function e(t,s){var e=n(t);this.config=n.extend({},a,s),this.el={$nav:e,$toggleButton:n(e.attr("data-nav-toggle")||this.config.navToggleSelector),$menuFirstLevel:e.find(".ml-stack-nav__menu").eq(0),$buttonNext:e.find(".js-ml-stack-nav-next"),$buttonBack:e.find(".js-ml-stack-nav-back")},this._defaults=a,this._name=i,this._init()}n.extend(e.prototype,{_init:function(){this._initAttributes(),this._attachEvents()},_initAttributes:function(){this.el.$nav.hasClass("ml-stack-nav")||this.el.$nav.addClass("ml-stack-nav")},_attachEvents:function(){var s=this;s.el.$toggleButton.on("click",function(t){s.toggle(),t.preventDefault()}),s.el.$buttonBack.on("click",function(t){s.moveBack(),t.preventDefault()}),s.el.$buttonNext.on("click",function(t){s._moveNext(n(this).closest(".ml-stack-nav__item").find(".ml-stack-nav__menu").eq(0)),t.preventDefault()}),s.el.$menuFirstLevel.on("webkitTransitionEnd msTransitionEnd oTransitionEnd transitionend",function(t){s.isOpen()||s.el.$nav.css("z-index","-1")})},isOpen:function(){return!!this.el.$nav.hasClass(this.config.openClass)},toggle:function(){this.isOpen()?this.close():this.open()},open:function(){this.el.$nav.trigger(n.Event("show.ml-stack-nav",{relatedTarget:this.el.$toggleButton[0]})),this.el.$toggleButton.addClass(this.config.activeClass),this.el.$nav.attr("aria-expanded","true").addClass(this.config.openClass+" "+this.config.activeClass).css("z-index",this.config.zIndexValue)},_moveNext:function(t){t.closest("."+this.config.activeClass).removeClass(this.config.activeClass),t.closest(".ml-stack-nav__item").addClass(this.config.openClass+" "+this.config.activeClass)},moveBack:function(){this.el.$nav.hasClass(this.config.activeClass)?this.close():this.el.$nav.find("."+this.config.activeClass).removeClass(this.config.activeClass).removeClass(this.config.openClass).closest("."+this.config.openClass).addClass(this.config.activeClass).find("."+this.config.openClass).removeClass(this.config.openClass)},close:function(){this.el.$nav.trigger(n.Event("hide.ml-stack-nav",{relatedTarget:this.el.$toggleButton[0]})),this.el.$toggleButton.removeClass(this.config.activeClass),this.el.$nav.removeClass(this.config.openClass+" "+this.config.activeClass).attr("aria-expanded","false").find("."+this.config.openClass).removeClass(this.config.openClass),this.el.$nav.find("."+this.config.activeClass).removeClass(this.config.activeClass)}}),n.fn[i]=function(t){return this.each(function(){n.data(this,s)?"string"==typeof t&&"_"!==t.charAt(0)&&n.isFunction(e.prototype[t])&&n.data(this,s)[t]():n.data(this,s,new e(this,t))})}});
//# sourceMappingURL=ml-stack-nav.min.js.map